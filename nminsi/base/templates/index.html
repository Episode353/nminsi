{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container mt-5">
    <h1>Photo Gallery</h1>
    <div class="row">
        {% for photo in photos %}
            <div class="col-md-4 mb-4"> <!-- Use Bootstrap's grid columns -->
                <div class="{% if photo.collaborated %} grayed-out {% endif %} seasonal-content-box">
                    <a href="{% url 'photo_detail' photo.id %}">
                        <span class="fg-image-wrap">
                            <img src="{{ photo.photo.url }}" class="img-fluid max-image-size">
                            <div class="photo-number">{{ photo.number }}</div>
                        </span>
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>

    <!-- Pagination Section -->
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {% if photos.has_previous %}
                <li class="page-item">
                    <a class="page-link" href="?page=1" aria-label="First">
                        <span aria-hidden="true">&laquo; First</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ photos.previous_page_number }}">Previous</a>
                </li>
            {% endif %}
            <li class="page-item disabled">
                <span class="page-link">
                    Page {{ photos.number }} of {{ photos.paginator.num_pages }}.
                </span>
            </li>
            {% if photos.has_next %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ photos.next_page_number }}">Next</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ photos.paginator.num_pages }}" aria-label="Last">
                        <span aria-hidden="true">Last &raquo;</span>
                    </a>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>

<style>
    /* Additional styling for grayed out images */
    .grayed-out {
        opacity: 0.5; /* Make the photo appear faded */
    }

    .seasonal-content-box {
        background-color: black; /* Changed to black for visibility */
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        min-height: 280px; /* Increase to accommodate the number */
        position: relative; /* Set position relative for absolute positioning of number */
    }

    /* Limit image size */
    .max-image-size {
        max-width: 100%; /* Ensure the image is responsive */
        max-height: 200px; /* Set a maximum height */
        object-fit: cover; /* Maintain aspect ratio */
        border-radius: 8px; /* Optional: add rounded corners */
    }

    /* Position the photo number */
    .photo-number {
        font-family: DMSans; /* Ensure this font is loaded */
        position: absolute;
        bottom: 10px; /* Adjust to place it closer to the bottom */
        left: 10px; /* Positioning from the left */
        color: #98A9C9; /* Set text color */
        background-color: rgba(0, 0, 0, 0.5); /* Optional: add a background for contrast */
        padding: 5px; /* Optional: add some padding */
        border-radius: 5px; /* Optional: round the corners */
    }

    /* Pagination styling */
    .pagination {
        background-color: transparent; /* Set pagination background to white */
        border-radius: 5px; /* Rounded corners */
        --bs-pagination-bg:black;
    }
    
    .page-link {
        font-family: DMSans; /* Apply the sans font */
        color: white; /* Set text color for links */
    }

     .page-link {
        color: gray; /* Color for disabled links */
        background-color: black;
    }



    .page-item .page-link:hover {
        background-color: #f8f9fa; /* Light hover effect */
    }
</style>

{% endblock %}
