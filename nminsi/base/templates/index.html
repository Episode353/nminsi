{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container mt-5">
    <h1>Photo Gallery</h1>
    <div class="row">
        {% for photo in photos %}
            <div class="col-md-4 mb-4"> <!-- Use Bootstrap's grid columns -->
                <div class="seasonal-content-box {% if photo.collaborated %} grayed-out {% endif %}">
                    <a href="{% url 'photo_detail' photo.id %}">
                        <img src="{{ photo.photo.url }}" alt="Photo taken on {{ photo.date_taken }}" class="img-fluid max-image-size">
                        <h5>Photo taken on {{ photo.date_taken }}</h5>
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>

    <!-- Pagination Section -->
    <div class="pagination">
        <span class="step-links">
            {% if photos.has_previous %}
                <a href="?page=1">&laquo; first</a>
                <a href="?page={{ photos.previous_page_number }}">previous</a>
            {% endif %}
            <span class="current">
                Page {{ photos.number }} of {{ photos.paginator.num_pages }}.
            </span>
            {% if photos.has_next %}
                <a href="?page={{ photos.next_page_number }}">next</a>
                <a href="?page={{ photos.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
        </span>
    </div>
</div>

<style>
    /* Additional styling for grayed out images */
    .grayed-out {
        opacity: 0.5; /* Make the photo appear faded */
    }

    .seasonal-content-box {
        border: 1px solid var(--bs-border-color);
        background-color: var(--bs-body-bg);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        min-height: 180px;
        transition: box-shadow 0.3s ease, transform 0.3s ease;
    }

    /* Limit image size */
    .max-image-size {
        max-width: 100%; /* Ensure the image is responsive */
        height: auto; /* Maintain aspect ratio */
    }

    /* Optional: set a fixed height for images */
    .seasonal-content-box img {
        max-height: 200px; /* Set a maximum height */
        object-fit: cover; /* Maintain aspect ratio */
        border-radius: 8px; /* Optional: add rounded corners */
    }
</style>

{% endblock %}
